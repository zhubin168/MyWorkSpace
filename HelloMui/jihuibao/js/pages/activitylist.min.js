"use strict";!function(){new Vue({el:"#contentBody",data:function(){return{activities:[],activityPageIndex:1,activityWaypoint:null,activityLoadComplete:!1,type:activityListConfig.type}},mixins:[jhbCore.vueMixin],created:function(){var t=this,i=jhbDataStorage.init({getStorageData:function(){return{pageIndex:t.activityPageIndex,data:t.activities}},restoreStorageData:function(i){t.activityPageIndex=i.pageIndex,t.activities=i.data,t.$nextTick(function(){t.scrollTo(i.scrollTop),t.initActivityWaypoint()})}});!i&&this.loadActivity()},methods:{loadActivity:function(){var t=this,i=jhbGlobal.jhbApi+"/Activity/ListActivity";this.httpPost(i,{type:this.type,pageIndex:this.activityPageIndex}).then(function(i){jhbCore.destroyWaypoint(t.activityWaypoint),i.code&&i.data&&i.data.length>0?(t.activities=1===t.activityPageIndex?i.data:t.activities.concat(i.data),t.$nextTick(function(){t.activityPageIndex++,t.initActivityWaypoint()})):t.activityLoadComplete=!0})},initActivityWaypoint:function(){this.activityWaypoint=jhbCore.initWaypoint(document.getElementById("activityList"),this.loadActivity)},changeType:function(t){this.type=t,this.activityPageIndex=1,this.loadActivity(),window.localStorage.setItem(activityListConfig.typeKey,t)}}})}();